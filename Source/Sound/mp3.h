#ifndef __mp3_h__
#define __mp3_h__

#include <windows.h>
#include <dshow.h>

#pragma comment(lib,"Strmiids.lib")
#pragma comment(lib,"Quartz.lib")

class Mp3
{
private:
	IBaseFilter   *  pif;
	IGraphBuilder *  pigb;
	IMediaControl *  pimc;
	IMediaEventEx *  pimex;

	bool    ready;

public:
	Mp3();
	~Mp3();

	bool IsReady() 
	{
		return ready;
	}
	/////////////////////////////////////////////////////////////////////
	// Function: Load()
	//
	// Last Modified: August 12,2004
	//
	// Purpose: Loads the file
	/////////////////////////////////////////////////////////////////////
	void Load(LPSTR filename);
	/////////////////////////////////////////////////////////////////////
	// Function: Cleanup()
	//
	// Last Modified: August 12,2004
	//
	// Purpose: Deletes the mp3 after playing
	/////////////////////////////////////////////////////////////////////
	void Cleanup();
	/////////////////////////////////////////////////////////////////////
	// Function: Play()
	//
	// Last Modified: August 12,2004
	//
	// Purpose: Plays the loaded mp3
	/////////////////////////////////////////////////////////////////////
	void Play();
	/////////////////////////////////////////////////////////////////////
	// Function: Pause()
	//
	// Last Modified: August 12,2004
	//
	// Purpose: Pauses the playing
	/////////////////////////////////////////////////////////////////////
	void Pause();
	/////////////////////////////////////////////////////////////////////
	// Function: Stop()
	//
	// Last Modified: August 12,2004
	//
	// Purpose: stopss the playing
	/////////////////////////////////////////////////////////////////////
	void Stop();
};


#endif